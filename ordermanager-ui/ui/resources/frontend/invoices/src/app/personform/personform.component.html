
<div class="p-fluid">

  <p-messages></p-messages>
  <div class="p-grid p-col-6">
    <H2>Create Person</H2>
  </div>
  <div class=" p-shadow-4">
    <div class="p-grid">
      <div class="p-col-6">
        <app-validable-dropdownlist [optionList]="personType"
                                    [labelText]="'Person Type'"
                                    [idComponent]="'id-personType'"
                                    [txtMinLength]="1"
                                    [ngModel]="personFormModel.personType"
                                    (ngModelChange) = "onChangePersonType($event)">
        </app-validable-dropdownlist>
      </div>
    </div>

    <div style = "margin-bottom: 10pt;" *ngIf="personFormModel.personType==='PRIVATE'" class="p-grid">
      <div class="p-col-3">
        <app-validable-input-text [labelText]="'First name'"
                                  [idComponent]="'id_firstName'"
                                  [txtMinLength]="2"
                                  [ngModel]="personFormModel.personFirstName"
                                  (ngModelChange) = "onChangeFirstName($event)">
        </app-validable-input-text>
      </div>
      <div class="p-col-3">
          <app-validable-input-text [labelText]="'Last name'"
                                    [idComponent]="'id_lastName'"
                                    [txtMinLength]="2"
                                    [ngModel]="personFormModel.personLastName"
                                    (ngModelChange) = "onChangeLastName($event)">
          </app-validable-input-text>
      </div>
     </div>

    <div *ngIf="personFormModel.personType==='ORGANISATION'" class="p-grid">
      <div class="p-col-3">
         <app-validable-input-text [labelText]="'Company name'"
                                  [idComponent]="'id_company_Name'"
                                  [txtMinLength]="2"
                                  [ngModel]="personFormModel.companyName"
                                  (ngModelChange) = "onChangeCompanyName($event)">
        </app-validable-input-text>
      </div>
    </div>

    <div *ngIf="personFormModel.personType==='PRIVATE'" class="p-grid">
      <div class="p-col-2">
        <app-validable-input-text [labelText]="'Tax number'"
                                  [idComponent]="'id_tax_Number'"
                                  [txtMinLength]="5"
                                  [ngModel]="personFormModel.taxNumber"
                                  (ngModelChange) = "onChangeTaxNumber($event)">
        </app-validable-input-text>
      </div>
    </div>
  </div>
  <div class="p-grid p-col-6">
      <H2>Person address</H2>
  </div>
  <div class=" p-shadow-4">

  <div class="p-grid">
    <div style="margin-left: 5pt" class="p-col-2">
      <app-validable-input-text [labelText]="'Zip'"
                                [idComponent]="'id_Zip'"
                                [txtMinLength]="4"
                                [ngModel]="personFormModel.personAddressFormModel.zipCode"
                                (ngModelChange) = "onChangeZipCode($event)">
      </app-validable-input-text>
    </div>
    <div style="margin-left: 5pt" class="p-col-2">
      <app-validable-input-text [labelText]="'City'"
                                [idComponent]="'id_City'"
                                [txtMinLength]="2"
                                [ngModel]="personFormModel.personAddressFormModel.city"
                                (ngModelChange) = "onChangeCity($event)">
      </app-validable-input-text>
    </div>
  </div>
  <div class="p-grid">
    <div style="margin-left: 5pt" class="p-col-2">
      <div style="margin-top: 15pt">
      <app-validable-input-text [labelText]="'Street'"
                                [idComponent]="'id_Street'"
                                [txtMinLength]="2"
                                [ngModel]="personFormModel.personAddressFormModel.street"
                                (ngModelChange) = "onChangeStreet($event)">
      </app-validable-input-text>
      </div>
    </div>
    <div class="p-col-2">

      <span style="margin-top: 12pt" class="p-float-label">
        <input pInputText id="id-add-postBoxCode" type="text"
               [(ngModel)]="personFormModel.personAddressFormModel.postBoxCode"/>
        <label for="id-add-postBoxCode">Post Box</label>
      </span>
    </div>
  </div>
  </div>
  <div class="p-grid">
    <div class="p-col-6">
      <H2>Person bank account</H2>
    </div>
  </div>
  <div class=" p-shadow-4">
  <div class="p-grid">
    <div style="margin-top: 5pt; margin-left: 5pt" class="p-col-3">
      <app-validable-input-text [labelText]="'Bank name'"
                                [idComponent]="'id_BankName'"
                                [txtMinLength]="2"
                                [ngModel]="personFormModel.bankAccountFormModel.bankName"
                                (ngModelChange) = "onChangeBankName($event)">
      </app-validable-input-text>
    </div>

    <div class="p-col-2">
      <span  class="p-float-label">
        <input pInputText id="id_AccountNumber" type="text"
               [(ngModel)]="personFormModel.bankAccountFormModel.accountNumber"/>
        <label for="id_AccountNumber">Account number</label>
      </span>

    </div>
  </div>

    <div class="p-grid">
      <div style="margin-left: 5pt; margin-top: 12pt" class="p-col-3">
        <app-validable-input-text [labelText]="'IBAN'"
                                  [idComponent]="'id_AccountNumber'"
                                  [txtMinLength]="2"
                                  [ngModel]="personFormModel.bankAccountFormModel.iban"
                                  (ngModelChange) = "onChangeIban($event)">
        </app-validable-input-text>
      </div>


      <div style="margin-left: 5pt; margin-top: 12pt" class="p-col-2">
        <app-validable-input-text [labelText]="'BIC/SWIFT'"
                                  [idComponent]="'id-acc-bicSwift'"
                                  [txtMinLength]="0"
                                  [ngModel]="personFormModel.bankAccountFormModel.bicSwift"
                                  (ngModelChange) = "onChangeBicSwift($event)">
        </app-validable-input-text>
      </div>
    </div>
  </div>
  <div style="margin-top:5px;" class="p-grid">
    <div class="p-col-1">
      <p-button label="Submit" (onClick)="savePerson($event)"></p-button>
    </div>
  </div>
  <div style="margin-top:5px;" class="p-grid">
    <div class="p-col-1">
      <p-button label="JSON" (onClick)="showJson($event)"></p-button>
    </div>
  </div>
</div>


